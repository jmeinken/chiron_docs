

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Built-In Processors &mdash; Chiron 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating Your Own Processors" href="making_custom_processor.html" />
    <link rel="prev" title="Data Dictionary Setup Tutorial" href="data_dict_example.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Chiron
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="system_overview.html">System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo.html">Demo Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Installing Chiron</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_dict_example.html">Data Dictionary Setup Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Built-In Processors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sourcecollection-processors">SourceCollection Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sourcedjangomodel">SourceDjangoModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sourcecsv">SourceCsv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sourceself">SourceSelf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sourceselfsubdoc">SourceSelfSubdoc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#etl-processors">ETL Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#etldjangofield">EtlDjangoField</a></li>
<li class="toctree-l3"><a class="reference internal" href="#etldjangomultifieldmerge">EtlDjangoMultifieldMerge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#etlpythondictitem">EtlPythonDictItem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#etlpythondictitemcounter">EtlPythonDictItemCounter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cohortdef-processors">CohortDef Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefcategory">CohortDefCategory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefdate">CohortDefDate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefdatedeid">CohortDefDateDeid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefnumber">CohortDefNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdeftext">CohortDefText</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdeftextcustomsort">CohortDefTextCustomSort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefboolean">CohortDefBoolean</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#display-processors">Display Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#displaycategory">DisplayCategory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaydate">DisplayDate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaydatedeid">DisplayDateDeid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaynumber">DisplayNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaytext">DisplayText</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaytextcustomsort">DisplayTextCustomSort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displayboolean">DisplayBoolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="#displaygeneric">DisplayGeneric</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="making_custom_processor.html">Creating Your Own Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_dict_models.html">Data Dictionary Model Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_viewsets.html">API Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_transforming_cohort_def.html">Transforming Cohort Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_transforming_table_def.html">Transforming Table Definitions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Chiron</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Built-In Processors</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/built_in_processors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="built-in-processors">
<h1>Built-In Processors<a class="headerlink" href="#built-in-processors" title="Permalink to this headline">¶</a></h1>
<p>The <strong>processor classes</strong> control how data is imported into MongoDB, how data is presented in the UI,
how data is filtered in queries, and how data is displayed in data exports. There are a variety
of built-in processors that are ready to use. They can typically be customized in various ways
by passing arguments when instantiating. These arguments can be defined in the data dictionary.</p>
<div class="section" id="sourcecollection-processors">
<h2>SourceCollection Processors<a class="headerlink" href="#sourcecollection-processors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sourcedjangomodel">
<h3>SourceDjangoModel<a class="headerlink" href="#sourcedjangomodel" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.SourceDjangoModel">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">SourceDjangoModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oSourceCollection</span></em>, <em class="sig-param"><span class="n">app</span></em>, <em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">collection_id_field</span><span class="o">=</span><span class="default_value">'pk'</span></em>, <em class="sig-param"><span class="n">root_collection_id_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_batch_size</span><span class="o">=</span><span class="default_value">10000</span></em>, <em class="sig-param"><span class="n">select_related</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">prefetch_related</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">filter_rules</span><span class="o">=</span><span class="default_value">'{}'</span></em>, <em class="sig-param"><span class="n">set_alt_id_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.SourceDjangoModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.BatchLoadMixin" title="chiron.processors.abstract.source_collection_processor.BatchLoadMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.BatchLoadMixin</span></code></a>, <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.StandardLoadMixin" title="chiron.processors.abstract.source_collection_processor.StandardLoadMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.StandardLoadMixin</span></code></a>, <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor" title="chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor</span></code></a></p>
<p>A source collection processor that reads from a Django model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> (<em>str</em>) – the Django app name where the model is located</p></li>
<li><p><strong>model</strong> (<em>str</em>) – the Django model name</p></li>
<li><p><strong>collection_id_field</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default is primary key for model</em><em>)</em>) – The name of the field where the collection_id is located</p></li>
<li><p><strong>root_collection_id_field</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default is the collection_id_field parameter value</em><em>)</em>) – The name of the field where the root_collection_id is located</p></li>
<li><p><strong>max_batch_size</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=10</em><em>,</em><em>000</em><em>)</em>) – The maximum number of model records that will be loaded at once</p></li>
<li><p><strong>select_related</strong> (<em>str</em><em>, </em><em>optional</em>) – A comma separated list of models to pre-select</p></li>
<li><p><strong>prefetch_related</strong> (<em>str</em><em>, </em><em>optional</em>) – A comma separated list of models to pre-fetch</p></li>
<li><p><strong>filter_rules</strong> (<em>JSON str</em><em>, </em><em>optional</em><em> (</em><em>default is all records are returned</em><em>)</em>) – A JSON string of Django filter rules to limit model records returned</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="sourcecsv">
<h3>SourceCsv<a class="headerlink" href="#sourcecsv" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.SourceCsv">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">SourceCsv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oSourceCollection</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">collection_id_field</span></em>, <em class="sig-param"><span class="n">root_collection_id_field</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.SourceCsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor" title="chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor</span></code></a></p>
<p>Source collection for CSV. The CSV file needs a header row. The records returned will
be Python dicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – the file location</p></li>
<li><p><strong>collection_id_field</strong> (<em>str</em>) – the header value for the collection id</p></li>
<li><p><strong>root_collection_id_field</strong> (<em>str</em>) – the header value for the root collection id</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="sourceself">
<h3>SourceSelf<a class="headerlink" href="#sourceself" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.SourceSelf">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">SourceSelf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oSourceCollection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.SourceSelf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.StandardLoadMixin" title="chiron.processors.abstract.source_collection_processor.StandardLoadMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.StandardLoadMixin</span></code></a>, <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor" title="chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor</span></code></a></p>
<p>Pulls all records from the Chiron Mongo database itself.
Useful for generating calculated fields on existing Mongo records.
Needs to be run later in execution order, when all the input fields
it depends on have already been loaded.</p>
</dd></dl>

</div>
<div class="section" id="sourceselfsubdoc">
<h3>SourceSelfSubdoc<a class="headerlink" href="#sourceselfsubdoc" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.SourceSelfSubdoc">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">SourceSelfSubdoc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oSourceCollection</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.SourceSelfSubdoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.StandardLoadMixin" title="chiron.processors.abstract.source_collection_processor.StandardLoadMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.StandardLoadMixin</span></code></a>, <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor" title="chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.source_collection_processor.SourceCollectionProcessor</span></code></a></p>
<p>Pulls all records from the Chiron Mongo database itself.
Useful for generating calculated fields on existing Mongo records.
Needs to be run later in execution order, when all the input fields
it depends on have already been loaded.</p>
<p>The subdocument is based on whichever Collection associated with this Source Collection.
In the source data collection, each record will be a dictionary with “subdoc” for this
specific sudocument record and “doc” for the entire document that the subdoc is in.</p>
</dd></dl>

</div>
</div>
<div class="section" id="etl-processors">
<h2>ETL Processors<a class="headerlink" href="#etl-processors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="etldjangofield">
<h3>EtlDjangoField<a class="headerlink" href="#etldjangofield" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.EtlDjangoField">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">EtlDjangoField</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="n">django_field</span></em>, <em class="sig-param"><span class="n">cast_to_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_casting_errors</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_model_mismatch</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.EtlDjangoField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.etl_processor.EtlProcessor" title="chiron.processors.abstract.etl_processor.EtlProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.etl_processor.EtlProcessor</span></code></a></p>
<p>Use with a source collection of Django models. Will pull a single field value from each
model object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>django_field</strong> (<em>str</em>) – full path name from the source model to the Django field</p></li>
<li><p><strong>cast_to_type</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, </em><em>date</em><em>)</em>) – the Django field name</p></li>
<li><p><strong>ignore_casting_errors</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – If cast_to_type fails, returns None instead of throwing an error</p></li>
<li><p><strong>ignore_model_mismatch</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="etldjangomultifieldmerge">
<h3>EtlDjangoMultifieldMerge<a class="headerlink" href="#etldjangomultifieldmerge" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.EtlDjangoMultifieldMerge">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">EtlDjangoMultifieldMerge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="n">django_field</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.EtlDjangoMultifieldMerge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.etl_processor.EtlProcessor" title="chiron.processors.abstract.etl_processor.EtlProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.etl_processor.EtlProcessor</span></code></a></p>
<p>Same behavior as EtlProcessorForDjangoField, except multiple django fields
can be provided.
After passing django_field and model_join_path like normal, provide additional
fields
by passing django_field2 &amp; model_join_path2, django_field3 &amp; model_join_path3,
etc.</p>
</dd></dl>

</div>
<div class="section" id="etlpythondictitem">
<h3>EtlPythonDictItem<a class="headerlink" href="#etlpythondictitem" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.EtlPythonDictItem">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">EtlPythonDictItem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="n">field_name</span></em>, <em class="sig-param"><span class="n">cast_to_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignore_casting_errors</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">convert_list_to_set</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.EtlPythonDictItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.etl_processor.EtlProcessor" title="chiron.processors.abstract.etl_processor.EtlProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.etl_processor.EtlProcessor</span></code></a></p>
<p>Use with a source collection that returns a Python dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field_name</strong> (<em>str</em>) – the key value for the field you want</p></li>
<li><p><strong>cast_to_type</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>int</em><em>, </em><em>float</em><em>, </em><em>string</em><em>, </em><em>date</em><em>)</em>) – the Django field name</p></li>
<li><p><strong>ignore_casting_errors</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – If cast_to_type fails, returns None instead of throwing an error</p></li>
<li><p><strong>convert_list_to_set</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=True</em><em>)</em>) – if field has a list of multiple values, only get distinct set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="etlpythondictitemcounter">
<h3>EtlPythonDictItemCounter<a class="headerlink" href="#etlpythondictitemcounter" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.EtlPythonDictItemCounter">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">EtlPythonDictItemCounter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="n">field_name</span></em>, <em class="sig-param"><span class="n">treat_string_as_sequence</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.EtlPythonDictItemCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.etl_processor.EtlProcessor" title="chiron.processors.abstract.etl_processor.EtlProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.etl_processor.EtlProcessor</span></code></a></p>
<p>Retrieves an item (usually a sequence) from a python dict and returns
the length of the item as an integer.
If field is not a sequence or collection, will return 1 if field evaluates to
true and 0 if sequence evaluates to False.
By default, a string value returns 1 instead of len(str). Pass
treat_string_as_sequence=True to override.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field_name</strong> (<em>str</em>) – the key value for the field you want</p></li>
<li><p><strong>treat_string_as_sequence</strong> (<em>boolean</em><em>, </em><em>optional</em><em> (</em><em>default=False</em><em>)</em>) – if string, return string length instead of 1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="cohortdef-processors">
<h2>CohortDef Processors<a class="headerlink" href="#cohortdef-processors" title="Permalink to this headline">¶</a></h2>
<p>CohortDef processors manage how a concept is applied to queries.</p>
<div class="section" id="cohortdefcategory">
<h3>CohortDefCategory<a class="headerlink" href="#cohortdefcategory" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefCategory">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefCategory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefCategory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.cohort_def_processor.CohortDefProcessor" title="chiron.processors.abstract.cohort_def_processor.CohortDefProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.cohort_def_processor.CohortDefProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a string or null</p></li>
<li><p>Don’t use if too many distinct values, use TextField instead</p></li>
<li><p>don’t use if no values repeat (like IDs or free-text comments), use TextField instead</p></li>
<li><p>don’t use if values are longer than one line of text</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="cohortdefdate">
<h3>CohortDefDate<a class="headerlink" href="#cohortdefdate" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefDate">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.cohort_def_processor.CohortDefProcessor" title="chiron.processors.abstract.cohort_def_processor.CohortDefProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.cohort_def_processor.CohortDefProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a Python datetime object or null</p></li>
<li><p>You only care about the date component, typically you will want the time in your
datetime values set to 0:00.</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="cohortdefdatedeid">
<h3>CohortDefDateDeid<a class="headerlink" href="#cohortdefdatedeid" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefDateDeid">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefDateDeid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefDateDeid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.cohort_def.date.CohortDefDate</span></code></p>
<p>This is a deidentified alternative to the DateFieldProcessor. If you use it in place of the
DateFieldProcessor, only the date year is presented to the user.</p>
<p>Typically, this is used in situations where you want users who can view PHI to see/query the
whole date, and other users to see/query only the year. To do this in a concept, you will
set has_phi to true and set both cohort_def_processor_deid_alt and display_processor_deid_alt
to this.</p>
<p>If you only ever need to use year, an alternative would be to set only the year in Mongo as an
integer and use the NumberFieldProcessor.</p>
</dd></dl>

</div>
<div class="section" id="cohortdefnumber">
<h3>CohortDefNumber<a class="headerlink" href="#cohortdefnumber" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefNumber">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefNumber</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="n">is_integer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.cohort_def_processor.CohortDefProcessor" title="chiron.processors.abstract.cohort_def_processor.CohortDefProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.cohort_def_processor.CohortDefProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be numbers or null</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>is_integer: (default: False) set to True if the number has no decimal value.
NOTE: This does not round/force numbers to be integers, it only affects how histograms
and statistics are calculated/displayed.</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="cohortdeftext">
<h3>CohortDefText<a class="headerlink" href="#cohortdeftext" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefText">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefText</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefText" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.cohort_def_processor.CohortDefProcessor" title="chiron.processors.abstract.cohort_def_processor.CohortDefProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.cohort_def_processor.CohortDefProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a string or null</p></li>
<li><p>If possible values are a limited number of categories, consider using CategoryField</p></li>
<li><p>Good for IDs or free-text comments</p></li>
<li><p>Not great for long, multi-line free text - like notes - but shouldn’t fail either</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="cohortdeftextcustomsort">
<h3>CohortDefTextCustomSort<a class="headerlink" href="#cohortdeftextcustomsort" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefTextCustomSort">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefTextCustomSort</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefTextCustomSort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.cohort_def.text.CohortDefText</span></code></p>
<p>When to use:</p>
<ul class="simple">
<li><p>Text field where you want the sorting to be different from alphabetical</p></li>
<li><p>good for numbers stored as strings, such as ID numbers</p></li>
</ul>
<p>This processor requires the value be stored as a dict with a string display value and a
numeric sort value:
{</p>
<blockquote>
<div><p>“value” : “my value”,
“sort” : 1</p>
</div></blockquote>
<p>}</p>
</dd></dl>

</div>
<div class="section" id="cohortdefboolean">
<h3>CohortDefBoolean<a class="headerlink" href="#cohortdefboolean" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.CohortDefBoolean">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">CohortDefBoolean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.CohortDefBoolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.html#chiron.processors.abstract.cohort_def_processor.CohortDefProcessor" title="chiron.processors.abstract.cohort_def_processor.CohortDefProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.cohort_def_processor.CohortDefProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should be true, false, or null</p></li>
</ul>
</dd></dl>

</div>
</div>
<div class="section" id="display-processors">
<h2>Display Processors<a class="headerlink" href="#display-processors" title="Permalink to this headline">¶</a></h2>
<p>Display Processors manage how a concept is applied to results output.</p>
<div class="section" id="displaycategory">
<h3>DisplayCategory<a class="headerlink" href="#displaycategory" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayCategory">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayCategory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayCategory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a string or null</p></li>
<li><p>Don’t use if too many distinct values, use TextField instead</p></li>
<li><p>don’t use if no values repeat (like IDs or free-text comments), use TextField instead</p></li>
<li><p>don’t use if values are longer than one line of text</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="displaydate">
<h3>DisplayDate<a class="headerlink" href="#displaydate" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayDate">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a Python datetime object or null</p></li>
<li><p>You only care about the date component, typically you will want the time in your
datetime values set to 0:00.</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="displaydatedeid">
<h3>DisplayDateDeid<a class="headerlink" href="#displaydatedeid" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayDateDeid">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayDateDeid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayDateDeid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.date.DisplayDate</span></code></p>
<p>This is a deidentified alternative to the DateFieldProcessor. If you use it in place of the
DateFieldProcessor, only the date year is presented to the user.</p>
<p>Typically, this is used in situations where you want users who can view PHI to see/query the
whole date, and other users to see/query only the year. To do this in a concept, you will
set has_phi to true and set both cohort_def_processor_deid_alt and display_processor_deid_alt
to this.</p>
<p>If you only ever need to use year, an alternative would be to set only the year in Mongo as an
integer and use the NumberFieldProcessor.</p>
</dd></dl>

</div>
<div class="section" id="displaynumber">
<h3>DisplayNumber<a class="headerlink" href="#displaynumber" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayNumber">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayNumber</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be numbers or null</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>is_integer: (default: False) set to True if the number has no decimal value.
NOTE: This does not round/force numbers to be integers, it only affects how histograms
and statistics are calculated/displayed.</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="displaytext">
<h3>DisplayText<a class="headerlink" href="#displaytext" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayText">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayText</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayText" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should either be a string or null</p></li>
<li><p>If possible values are a limited number of categories, consider using CategoryField</p></li>
<li><p>Good for IDs or free-text comments</p></li>
<li><p>Not great for long, multi-line free text - like notes - but shouldn’t fail either</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="displaytextcustomsort">
<h3>DisplayTextCustomSort<a class="headerlink" href="#displaytextcustomsort" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayTextCustomSort">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayTextCustomSort</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayTextCustomSort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.text.DisplayText</span></code></p>
<p>When to use:</p>
<ul class="simple">
<li><p>Text field where you want the sorting to be different from alphabetical</p></li>
<li><p>good for numbers stored as strings, such as ID numbers</p></li>
</ul>
<p>This processor requires the value be stored as a dict with a string display value and a
numeric sort value:
{</p>
<blockquote>
<div><p>“value” : “my value”,
“sort” : 1</p>
</div></blockquote>
<p>}</p>
</dd></dl>

</div>
<div class="section" id="displayboolean">
<h3>DisplayBoolean<a class="headerlink" href="#displayboolean" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayBoolean">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayBoolean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayBoolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
<p>When to use:</p>
<ul class="simple">
<li><p>All values should be true, false, or null</p></li>
</ul>
</dd></dl>

</div>
<div class="section" id="displaygeneric">
<h3>DisplayGeneric<a class="headerlink" href="#displaygeneric" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="chiron.processors.DisplayGeneric">
<em class="property">class </em><code class="sig-prename descclassname">chiron.processors.</code><code class="sig-name descname">DisplayGeneric</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oUser</span></em>, <em class="sig-param"><span class="n">oConcept</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.DisplayGeneric" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="chiron.processors.abstract.display_processor.html#chiron.processors.abstract.display_processor.DisplayProcessor" title="chiron.processors.abstract.display_processor.DisplayProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.abstract.display_processor.DisplayProcessor</span></code></a></p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="making_custom_processor.html" class="btn btn-neutral float-right" title="Creating Your Own Processors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data_dict_example.html" class="btn btn-neutral float-left" title="Data Dictionary Setup Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, UC Center for Health Informatics, Cincinnati Children&#39;s Biomedical Informatics

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>