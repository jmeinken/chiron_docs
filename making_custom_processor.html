

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Creating Your Own Processors &mdash; Chiron 2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Dictionary Model Classes" href="data_dict_models.html" />
    <link rel="prev" title="Built-In Processors" href="built_in_processors.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Chiron
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="system_overview.html">System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Installing Chiron</a></li>
<li class="toctree-l1"><a class="reference internal" href="chiron_settings.html">Chiron Global Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_dict_example.html">Data Dictionary Setup Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="built_in_processors.html">Built-In Processors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating Your Own Processors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-make-a-custom-processor-class">How to make a custom processor class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#register-your-processor-class-with-chiron">Register your processor class with Chiron</a></li>
<li class="toctree-l2"><a class="reference internal" href="#abstract-processors">Abstract Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sourcecollectionprocessor-abstract">SourceCollectionProcessor (abstract)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#standardloadmixin">StandardLoadMixin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#batchloadmixin">BatchLoadMixin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#etlprocessor-abstract">EtlProcessor (abstract)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cohortdefprocessor-abstract">CohortDefProcessor (abstract)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cohortdefprocessorbuiltinuimixin">CohortDefProcessorBuiltInUiMixin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#displayprocessor-abstract">DisplayProcessor (abstract)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#displayprocessorbuiltinuimixin">DisplayProcessorBuiltInUiMixin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#aggregationmethod-classes-for-display-processors">AggregationMethod Classes for Display Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aggregationmethod-abstract-base-class">AggregationMethod (abstract base class)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#countdistinct">CountDistinct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listdistinct">ListDistinct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#min">Min</a></li>
<li class="toctree-l3"><a class="reference internal" href="#max">Max</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_dict_models.html">Data Dictionary Model Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_viewsets.html">API Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_transforming_cohort_def.html">Transforming Cohort Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_transforming_table_def.html">Transforming Table Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_changelog.html">Version Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Chiron</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Creating Your Own Processors</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/making_custom_processor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-your-own-processors">
<h1>Creating Your Own Processors<a class="headerlink" href="#creating-your-own-processors" title="Permalink to this headline">¶</a></h1>
<p>Chiron has a variety of built-in <strong>processor classes</strong> that enable you to set up a Chiron instance
without writing any code. However, when you need custom functionality, you can create your
own processors.</p>
<div class="section" id="how-to-make-a-custom-processor-class">
<h2>How to make a custom processor class<a class="headerlink" href="#how-to-make-a-custom-processor-class" title="Permalink to this headline">¶</a></h2>
<p>The code for your processor class can go anywhere, but we recommend creating a root-level package
in your project called <code class="docutils literal notranslate"><span class="pre">chiron_config</span></code> and create an additional package inside that called
<code class="docutils literal notranslate"><span class="pre">processors</span></code> to store your custom processors. <strong>Do not</strong> put them directly inside the chiron app,
as that will make it harder to update chiron in the future.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">myproject</span>
<span class="n">mkdir</span> <span class="n">chiron_config</span>
<span class="n">cd</span> <span class="n">chiron_config</span>
<span class="n">touch</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">mkdir</span> <span class="n">processors</span>
<span class="n">cd</span> <span class="n">processors</span>
<span class="n">touch</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Your processors can extend any of the chiron abstract processors in
<code class="docutils literal notranslate"><span class="pre">chiron.processors.abstract</span></code> or built-in processors in <code class="docutils literal notranslate"><span class="pre">chiron.processors</span></code>.</p>
<p>Once your processor code is ready, use the Processor model to include your processor in the
data dictionary. Once added, you can set any processors in your SourceCollection or Concept
models to use your custom processor.</p>
</div>
<div class="section" id="register-your-processor-class-with-chiron">
<h2>Register your processor class with Chiron<a class="headerlink" href="#register-your-processor-class-with-chiron" title="Permalink to this headline">¶</a></h2>
<p>You must register a processor class with Chiron to start using it.</p>
<p>Step 1: Register the class in code</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">chiron.processors.registration</span> <span class="kn">import</span> <span class="n">ProcessorRegistry</span>

<span class="n">ProcessorRegistry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">MyProcessorClass</span><span class="p">)</span>
</pre></div>
</div>
<p>Step 2: Tell Chiron in which modules your processors are registered. This can be done using the
CHIRON_PROCESSOR_MODULES setting. The default is to load the built-in Chiron processors, and any
processors in <cite>chiron_config.processors.__init__.py</cite></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CHIRON_PROCESSOR_MODULES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;chiron.processors&quot;</span><span class="p">,</span> <span class="s2">&quot;chiron_config.processors&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Note: If you include a module path, that module will be checked. If you include a package path,
the <cite>__init__.py</cite> of the package will be checked, but child modules will not be checked.</p>
</div>
<div class="section" id="abstract-processors">
<h2>Abstract Processors<a class="headerlink" href="#abstract-processors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sourcecollectionprocessor-abstract">
<h3>SourceCollectionProcessor (abstract)<a class="headerlink" href="#sourcecollectionprocessor-abstract" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.SourceCollectionProcessor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">SourceCollectionProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oSourceCollection</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.SourceCollectionProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generates an iterable of data to import into MongoDB.</p>
<p>Must be associated with either the StandardLoadMixin or the BatchLoadMixin. If both mixins
are used, the BatchLoadMixin will be used unless get_subject_match_defs() method returns
None</p>
<p>It is associated with a SourceCollection in the data dictionary using the
<code class="docutils literal notranslate"><span class="pre">SourceCollection.processor</span></code> field.</p>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.SourceCollectionProcessor.get_collection_id">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_collection_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.SourceCollectionProcessor.get_collection_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads one record from the source data collection and returns a unique ID for the record.</p>
<p>For example, if this is a source collection of samples, could return a sample ID. If you
had sample data in multiple source collections, that sample ID could be used to merge
data for the same sample.</p>
<p>Collection IDs only apply to subcollections This method has no effect on a collection
associated with the subject (root) collection.</p>
<ul class="simple">
<li><p>If the ID matches an existing subdocument in Mongo, data will be appended to that
subdocument.</p></li>
<li><p>If no match, a new subdocument with the provided ID will be created.</p></li>
<li><p>If <strong>None</strong> is returned, a new subdocument with an auto ID will be created.</p></li>
<li><p>If <strong>False</strong> is returned, the data will not be added to Mongo at all.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the record ID</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str, integer, None, False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.SourceCollectionProcessor.get_data_last_updated_date">
<span class="sig-name descname"><span class="pre">get_data_last_updated_date</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.SourceCollectionProcessor.get_data_last_updated_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datetime when this source collection was last updated.
If this is a live data source, that will be now. If this is an archived data source, it
will be whatever is the date last updated.</p>
</dd></dl>

</dd></dl>

<div class="section" id="standardloadmixin">
<h4>StandardLoadMixin<a class="headerlink" href="#standardloadmixin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.StandardLoadMixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">StandardLoadMixin</span></span><a class="headerlink" href="#chiron.processors.abstract.StandardLoadMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Retrieves an entire source collection as an iterable and processes/loads
to MongoDB one record at a time.</p>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.StandardLoadMixin.get_source_collection">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_source_collection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.StandardLoadMixin.get_source_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the entire source dataset as an iterable. Each entry in this iterable should
corresponds to the associated <code class="docutils literal notranslate"><span class="pre">Collection</span></code>.</p>
<p>For example, a source data collection associated with a “sample” collection should return
an iterable of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterable dataset</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>various</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.StandardLoadMixin.get_subject_match_def">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_subject_match_def</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.StandardLoadMixin.get_subject_match_def" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns rules as a Python dict about how associate a new record with the correct
subject in MongoDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Match_rule</dt>
<dd class="field-odd"><p>A Python dict that gives the $match definition for this subject</p>
</dd>
<dt class="field-even">Add_ids</dt>
<dd class="field-even"><p>A dict of additional IDs to store in MongoDB for the subject. These will get
added inside a dict field <cite>_ids</cite>. Then they can be referenced the match_rule for
subsequent source collections.</p>
</dd>
<dt class="field-odd">If_no_match</dt>
<dd class="field-odd"><p>create/skip (default: create) - what to do if there are no existing subjects
that match the match_rule</p>
</dd>
</dl>
<p>SPECIAL VALUES YOU CAN RETURN:</p>
<p>If a simple ID value (string, integer):</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {“_ids.id” : value},
“add_ids” : {“id” : value},
“if_no_match” : “create”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If None, a new subject record will be created:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {},
“add_ids” : {},
“if_no_match” : “create”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If False, the record will be skipped:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {},
“add_ids” : {},
“if_no_match” : “skip”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>Finally, there may be instances where a source collection record needs to be associated
with multiple subjects (ex. m2m relationships). To do this, you can return a list of match
definitions (or special values) and they ETL loaded will use all of them.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the match_def</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>python dict, str, integer, None, False, python list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="batchloadmixin">
<h4>BatchLoadMixin<a class="headerlink" href="#batchloadmixin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.BatchLoadMixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">BatchLoadMixin</span></span><a class="headerlink" href="#chiron.processors.abstract.BatchLoadMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Instead of loading one source collection record at a time, loads all the records for each
subject at once. Sometimes this is more time efficient.</p>
<p>Can’t use batches if:</p>
<ul class="simple">
<li><dl class="simple">
<dt>you can’t generate a unique list of subject IDs/match defs ahead of time.</dt><dd><p>ex. you’re reading out of a CSV file and the subject ID’s are not sorted</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>this is on the root collection</dt><dd><p>Source collections loading into the root collection already load once per subject.</p>
</dd>
</dl>
</li>
<li><p>one source record could match multiple subjects (i.e. m2m relationships)</p></li>
<li><dl class="simple">
<dt>During the ETL process, another data source has already been loaded to this subcollection</dt><dd><p>Ex. You have two data sources with different data about samples and you need to match them
up using a sample ID. The first data source could be loaded in batches, but the second
can’t.</p>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.BatchLoadMixin.get_subject_match_defs">
<span class="sig-name descname"><span class="pre">get_subject_match_defs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.BatchLoadMixin.get_subject_match_defs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all subject match definitions as a list.</p>
<dl class="field-list simple">
<dt class="field-odd">Match_rule</dt>
<dd class="field-odd"><p>A Python dict that gives the $match definition for this subject</p>
</dd>
<dt class="field-even">Add_ids</dt>
<dd class="field-even"><p>A dict of additional IDs to store in MongoDB for the subject. These will get
added inside a dict field <cite>_ids</cite>. Then they can be referenced the match_rule for
subsequent source collections.</p>
</dd>
<dt class="field-odd">If_no_match</dt>
<dd class="field-odd"><p>create/skip (default: create) - what to do if there are no existing subjects
that match the match_rule</p>
</dd>
</dl>
<p>SPECIAL VALUES YOU CAN RETURN:</p>
<p>If a simple ID value (string, integer):</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {“_ids.id” : value},
“add_ids” : {“id” : value},
“if_no_match” : “create”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If None, a new subject record will be created:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {},
“add_ids” : {},
“if_no_match” : “create”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>If False, the record will be skipped:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“match_rule” : {},
“add_ids” : {},
“if_no_match” : “skip”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the match_def</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of: python dict, str, integer, None, False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.BatchLoadMixin.get_source_collection_batch">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_source_collection_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject_match_def</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.BatchLoadMixin.get_source_collection_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all source collection entries associated with the subject corresponding to the
subject_match_def</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="etlprocessor-abstract">
<h3>EtlProcessor (abstract)<a class="headerlink" href="#etlprocessor-abstract" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.EtlProcessor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">EtlProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oConcept</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.EtlProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An ETL Processor is for a concept. During the ETL in to MongoDB, the ETLProcessor gets
a record from the source collection and returns the value to store for this concept in
MongoDB.</p>
<p>It is associated with a Concept in the data dictionary using the <code class="docutils literal notranslate"><span class="pre">Concept.etl_processor</span></code>
field.</p>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.EtlProcessor.pull_record_data_from_source">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">pull_record_data_from_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.EtlProcessor.pull_record_data_from_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves or calculates the value to store in MongoDB from a source collection record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>record</strong> (<em>various</em>) – a single entry returned by <code class="docutils literal notranslate"><span class="pre">SourceCollection.get_source_collection()</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value to store in MongoDB</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>various</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.EtlProcessor.convert_data_list_to_set">
<span class="sig-name descname"><span class="pre">convert_data_list_to_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.EtlProcessor.convert_data_list_to_set" title="Permalink to this definition">¶</a></dt>
<dd><p>UTILITY FUNCTION
Returns only unique, non-null values from provided data_list.</p>
<p>Chiron allows multiple values to be stored in a single concept entry as a list.
This is useful when you have multiple values for a concept, but don’t want
to create a whole new Collection for that one concept. Typically it’s better to store the
unique set of values rather than a repetitive
list.</p>
<p>IN: [‘Hispanic’, ‘Caucasian’, ‘Caucasian’, None, ‘Caucasian’, None]
OUT: [‘Hispanic’, ‘Caucasian’]</p>
<p>IN: [‘Caucasian’, None]
OUT: ‘Caucasian’</p>
<p>IN: [‘Caucasian’, ‘Caucasian’, ‘Caucasian’]
OUT: ‘Caucasian’</p>
<p>IN: []
OUT: None</p>
<p>IN: [None, None, None, None]
OUT: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.EtlProcessor.cast">
<span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.EtlProcessor.cast" title="Permalink to this definition">¶</a></dt>
<dd><p>UTILITY FUNCTION
Useful for converting data types of input values when necessary.</p>
<p>There are two relevant object properties:
self.cast_to_type - string that specifies the desired type
self.ignore_casting_errors - If True, errors in casting will be ignored and the method
will return None</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cohortdefprocessor-abstract">
<span id="cohort-def-processor-abstract"></span><h3>CohortDefProcessor (abstract)<a class="headerlink" href="#cohortdefprocessor-abstract" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">CohortDefProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oUser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oConcept</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles how a concept gets applied in queries. It is associated with a concept in the data
dictionary using the <code class="docutils literal notranslate"><span class="pre">Concept.cohort_def_processor</span></code> field.</p>
<p>IMPORTANT METHOD WORKFLOWS:</p>
<p>Getting Statistics About a Concept:</p>
<ul class="simple">
<li><p>preprocess_statistics() - generates a Python dict of statistical data about the concept</p></li>
<li><p>get_statistics() - access data from preprocess(), either directly or from a cache</p></li>
</ul>
<p>Creating a Cohort Def Entry:</p>
<ul class="simple">
<li><p>get_form_options() - data needed to generate a cohort def form</p></li>
<li><p>form_callback() - allows forms to load iteratively or be interactive using AJAX</p></li>
<li><p>form_callback_streaming() - can yield multiple responses for HttpStreaming</p></li>
<li><p>validate_form() - checks if a form submission is valid</p></li>
<li><p>generate_cohort_def_entry() - converts form submission into a dict to be added to cohort def</p></li>
</ul>
<p>Using a Cohort Def Entry:</p>
<ul class="simple">
<li><p>display_entry_as_string()</p></li>
<li><p>display_entry_as_html()</p></li>
<li><p>get_mongo_match_def()</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.concept_type">
<span class="sig-name descname"><span class="pre">concept_type</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'undefined'</span></em><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.concept_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.preprocess_statistics">
<span class="sig-name descname"><span class="pre">preprocess_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.preprocess_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>If there is data needed to render the cohort def form, it can be retrieved/calculated here.
NOTE: Don’t access directly! Instead, use <code class="docutils literal notranslate"><span class="pre">self.get_statistics()</span></code> which will
manage caching of this data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cd</strong> (<em>list of dicts</em>) – the cohort definition to use</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>key/value pairs of data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_statistics">
<span class="sig-name descname"><span class="pre">get_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Will decide when to use cache vs when to run preprocess_statistics() method.
There shouldn’t be any need to override this method.
note: There is no cache implemented yet, so just returns preprocess_statistics()
results directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cd</strong> (<em>list of dicts</em>) – the cohort definition to use</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>key/value pairs of data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_form_options">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_form_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_cd_entry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_form_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns any data needed to render a form for creating a cohort def entry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.form_callback">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">form_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.form_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Used when the form needs to collect data by AJAX in order to work properly.
Data returned by this will be passed to the form as JSON data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>get_data</strong> (<em>dict</em>) – the HTTP GET arguments from the client</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the response to be returned to the client</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.form_callback_streaming">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">form_callback_streaming</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.form_callback_streaming" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as form callback but can yield data multiple times to be returned using
streaming HTTP</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>get_data</strong> (<em>dict</em>) – the HTTP GET arguments from the client</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the response(s) to be returned to the client</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iterator of dicts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.validate_form">
<span class="sig-name descname"><span class="pre">validate_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.validate_form" title="Permalink to this definition">¶</a></dt>
<dd><p>If provided form validates, returns True and populates self.cleaned dict with any data
needed to generate a cohort def entry. If validation fails, returns False and adds
error message strings to self.errors list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>form_data</strong> (<em>dict</em>) – the HTTP POST arguments from the client</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether form validated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_fields_to_index">
<span class="sig-name descname"><span class="pre">get_fields_to_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_fields_to_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.generate_cohort_def_entry">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">generate_cohort_def_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_cd_entry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.generate_cohort_def_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a cohort def entry dict that can be added to the cohort definition.
NOTE: This should only be run after validate_form has successfully run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cd</strong> (<em>list of dicts</em>) – the cohort definition to add this entry to</p></li>
<li><p><strong>existing_cd_entry</strong> (<em>dict</em>) – cohort def entry if editing existing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cohort def entry</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.display_entry_as_string">
<span class="sig-name descname"><span class="pre">display_entry_as_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.display_entry_as_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts cd_entry dict into a human-readable string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cd_entry</strong> (<em>dict</em>) – the cohort def entry to convert</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the human-readable string (<strong>cannot</strong> contain HTML formatting tags)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.display_entry_as_html_full">
<span class="sig-name descname"><span class="pre">display_entry_as_html_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.display_entry_as_html_full" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.display_entry_as_html">
<span class="sig-name descname"><span class="pre">display_entry_as_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.display_entry_as_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts cd_entry dict into a human-readable HTML-formatted string</p>
<dl class="simple">
<dt>SECURITY: This string should be displayable as HTML without risk of XSS, etc.</dt><dd><p>If the string incorporates user-input text that hasn’t already been sanitized/
escaped, it should be dealt with here.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cd_entry</strong> (<em>dict</em>) – the cohort def entry to convert</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the human-readable string (<strong>can</strong> contain HTML formatting tags)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_mongo_match_def">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_mongo_match_def</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem_match</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_mongo_match_def" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts this CD entry into something that can be embedded in a Mongo ‘$match’ definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cd_entry</strong> (<em>dict</em>) – the cohort def entry to convert</p></li>
<li><p><strong>elem_match</strong> (<em>boolean</em>) – whether this def will be embedded inside an $elemMatch block</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the match definition</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_mongo_match_def_full">
<span class="sig-name descname"><span class="pre">get_mongo_match_def_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem_match</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_mongo_match_def_full" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor.get_concept_search_terms">
<span class="sig-name descname"><span class="pre">get_concept_search_terms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor.get_concept_search_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>The concept list is searchable. By default, search includes the concept ID,
the concept name, the concept description, and all parent category names.</p>
<p>To add additional search terms, return them here as a single string. This method is called
after all the data is loaded, so it can query MongoDB to include patient data values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessor._generate_cd_entry_template">
<span class="sig-name descname"><span class="pre">_generate_cd_entry_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">additional_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessor._generate_cd_entry_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a universal base that can be used by self.generate_cohort_def_entry()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>additional_args</strong> (<em>dict</em>) – concept-specific values to include in cd_entry</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a cd_entry with concept_id and entry_id set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="cohortdefprocessorbuiltinuimixin">
<h4>CohortDefProcessorBuiltInUiMixin<a class="headerlink" href="#cohortdefprocessorbuiltinuimixin" title="Permalink to this headline">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessorBuiltInUiMixin">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">CohortDefProcessorBuiltInUiMixin</span></span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessorBuiltInUiMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>CohortDefProcessor functionality needed by the built-in UI. If you are only using the
API, your processors don’t need this mixin.</p>
<p>Needed properties:
- self.form_html_template
- self.form_js_template (optional)</p>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.CohortDefProcessorBuiltInUiMixin.generate_concept_form">
<span class="sig-name descname"><span class="pre">generate_concept_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oConcept</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.CohortDefProcessorBuiltInUiMixin.generate_concept_form" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="displayprocessor-abstract">
<span id="display-processor-abstract"></span><h3>DisplayProcessor (abstract)<a class="headerlink" href="#displayprocessor-abstract" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.abstract.</span></span><span class="sig-name descname"><span class="pre">DisplayProcessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oUser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oConcept</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages how a concept is incorporated into output datasets. It is associated with a concept in
the data dictionary using the <code class="docutils literal notranslate"><span class="pre">Concept.display_processor</span></code> field.</p>
<p>IMPORTANT METHOD WORKFLOWS:</p>
<p>Creating a Table Def Entry:</p>
<ul class="simple">
<li><p>set_aggregation_method() - sets a list of aggregation objects that can be applied to this
concept</p></li>
<li><p>get_form_options() - data needed to display a table def entry form</p></li>
<li><p>validate_form() - checks if a form submission is valid</p></li>
<li><p>generate_table_def_entry() - converts form submission into a dict to be added to cohort def</p></li>
</ul>
<p>Applying a Table Def Entry to a Results Set:</p>
<ul class="simple">
<li><p>get_header_display_value() - the label for this column in the results output</p></li>
<li><p>get_individual_display_value() - how to convert the stored concept value into a string</p></li>
<li><p>get_display_value3() - how to convert the mongo output value into a string</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.set_aggregation_methods">
<span class="sig-name descname"><span class="pre">set_aggregation_methods</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.set_aggregation_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a list of AggregationMethod objects that can be applied to this concept. This is
automatically called by the init method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.set_td_entry">
<span class="sig-name descname"><span class="pre">set_td_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">td_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.set_td_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_form_options">
<span class="sig-name descname"><span class="pre">get_form_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_def</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_form_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of options for customizing a table_def_entry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_default_aggregation_settings">
<span class="sig-name descname"><span class="pre">get_default_aggregation_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_default_aggregation_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.validate_form">
<span class="sig-name descname"><span class="pre">validate_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.validate_form" title="Permalink to this definition">¶</a></dt>
<dd><p>If provided form validates, returns True and populates self.cleaned dict with any data
needed to generate a table def entry. If validation fails, returns False and adds
error message strings to self.errors list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>form_data</strong> (<em>dict</em>) – the HTTP POST arguments from the client</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether form validated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.generate_table_def_entry">
<span class="sig-name descname"><span class="pre">generate_table_def_entry</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.generate_table_def_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the table_def entry definition for this column
NOTE: This should typically be run after validate_table_form has successfully run.
Otherwise, it will just generate a default entry with no customization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the table def entry</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_sort_value">
<span class="sig-name descname"><span class="pre">get_sort_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_sort_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_sort_key">
<span class="sig-name descname"><span class="pre">get_sort_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_sort_key_function">
<span class="sig-name descname"><span class="pre">get_sort_key_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_sort_key_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_header_display_value">
<span class="sig-name descname"><span class="pre">get_header_display_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prepend_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_header_display_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a display name for the column</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_individual_display_value">
<span class="sig-name descname"><span class="pre">get_individual_display_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_individual_display_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a value stored in the Mongo database to a display value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>various</em>) – the raw value coming from the Mongo database for this concept</p></li>
<li><p><strong>output_type</strong> (<em>str</em><em>, </em><em>optional</em>) – the type of output being generated (html, csv, etc.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a displayable representation of the value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_display_value3">
<span class="sig-name descname"><span class="pre">get_display_value3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_display_value3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.calculate_aggregate_value">
<span class="sig-name descname"><span class="pre">calculate_aggregate_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.calculate_aggregate_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.get_data_type">
<span class="sig-name descname"><span class="pre">get_data_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.get_data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a human-readable string describing the data type (text, integer, etc.).
This is used to generate a data dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor.check_requires_event_dates">
<span class="sig-name descname"><span class="pre">check_requires_event_dates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor.check_requires_event_dates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor._get_agg_option_by_id">
<span class="sig-name descname"><span class="pre">_get_agg_option_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor._get_agg_option_by_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.abstract.DisplayProcessor._generate_td_entry_template">
<span class="sig-name descname"><span class="pre">_generate_td_entry_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">additional_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.abstract.DisplayProcessor._generate_td_entry_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a universal base that can be used by self.generate_cohort_def_entry()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>additional_args</strong> (<em>dict</em>) – concept-specific values to include in cd_entry</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a cd_entry with concept_id and entry_id set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="displayprocessorbuiltinuimixin">
<h4>DisplayProcessorBuiltInUiMixin<a class="headerlink" href="#displayprocessorbuiltinuimixin" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="aggregationmethod-classes-for-display-processors">
<h2>AggregationMethod Classes for Display Processors<a class="headerlink" href="#aggregationmethod-classes-for-display-processors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="aggregationmethod-abstract-base-class">
<h3>AggregationMethod (abstract base class)<a class="headerlink" href="#aggregationmethod-abstract-base-class" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.display.aggregation._base.</span></span><span class="sig-name descname"><span class="pre">AggregationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Has methods needed to aggregate a concept in the final output table.</p>
<p>Subclasses need to set an id, label, and group property in their __init__ method. ex:</p>
<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_inputs">
<span class="sig-name descname"><span class="pre">get_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">td_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of dicts that define custom settings for this aggregation option</p>
<dl class="field-list simple">
<dt class="field-odd">Id</dt>
<dd class="field-odd"><p>(str) a unique id to identify this input</p>
</dd>
<dt class="field-even">Label</dt>
<dd class="field-even"><p>(str) the human-readable label for this input</p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>(str) “select” for HTML select and “ajax_select” for select tool that must lookup
options</p>
</dd>
<dt class="field-even">Options</dt>
<dd class="field-even"><p>(list of tuples) for type=”select”; id/value pairs for options</p>
</dd>
<dt class="field-odd">Options_callback</dt>
<dd class="field-odd"><p>(str) for type=”ajax_select”; the url where options can be looked up</p>
</dd>
</dl>
<p>selected: (str) value that should be selected by default</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.set_custom_settings">
<span class="sig-name descname"><span class="pre">set_custom_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.set_custom_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>takes an input_data dict from post request and returns a dict of values that will be saved
to the table def entry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.check_requires_event_dates">
<span class="sig-name descname"><span class="pre">check_requires_event_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">td_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.check_requires_event_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this aggregation option require the event date(s) from the parent collection?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_header_display_value">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_header_display_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oConcept</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">td_entry</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_header_display_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a header label for this aggregated column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oConcept</strong> (<em>model object</em>) – the concept being aggregated</p></li>
<li><p><strong>td_entry</strong> (<em>dict</em>) – the column definition</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>header label</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_display_value3">
<span class="sig-name descname"><span class="pre">get_display_value3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_processor_display_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_display_value3" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the calculated aggregate value to the final display value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._date_to_string">
<span class="sig-name descname"><span class="pre">_date_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._date_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function that converts a date to a string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key">
<span class="sig-name descname"><span class="pre">get_sort_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value from the report that will be used for sorting. By default, this is the
column value itself.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key_date">
<span class="sig-name descname"><span class="pre">get_sort_key_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key_date" title="Permalink to this definition">¶</a></dt>
<dd><p>This can be used to sort date values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key_function">
<span class="sig-name descname"><span class="pre">get_sort_key_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_processor_sort_value_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod.get_sort_key_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the function that will be used for sorting the report. The column_index gives
which report column this field is in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display_processor_sort_value_func</strong> (<em>python function</em>) – The function that would normally be used to
sort the non-aggregated value.</p></li>
<li><p><strong>column_index</strong> (<em>integer</em>) – The index position of this column in the report</p></li>
<li><p><strong>reverse</strong> (<em>boolean</em>) – In some instances, sort key might work differently if reverse sorting</p></li>
<li><p><strong>aggregation_settings</strong> (<em>python dict</em>) – Any settings included in the td_entry</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._get_value_list_no_nulls">
<span class="sig-name descname"><span class="pre">_get_value_list_no_nulls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._get_value_list_no_nulls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._get_value_list">
<span class="sig-name descname"><span class="pre">_get_value_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._get_value_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._remove_records_with_null_values">
<span class="sig-name descname"><span class="pre">_remove_records_with_null_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._remove_records_with_null_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._get_event_list">
<span class="sig-name descname"><span class="pre">_get_event_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_date_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._get_event_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The query process can end up duplicating collection records. This uses the _id to
remove duplicate records.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._get_event_list_no_nulls">
<span class="sig-name descname"><span class="pre">_get_event_list_no_nulls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_date_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._get_event_list_no_nulls" title="Permalink to this definition">¶</a></dt>
<dd><p>The query process can end up duplicating collection records. This uses the _id to
remove duplicate records.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation._base.AggregationMethod._get_ordinal_string">
<span class="sig-name descname"><span class="pre">_get_ordinal_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation._base.AggregationMethod._get_ordinal_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an integer into its ordinal representation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make_ordinal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>   <span class="o">=&gt;</span> <span class="s1">&#39;0th&#39;</span>
<span class="n">make_ordinal</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>   <span class="o">=&gt;</span> <span class="s1">&#39;3rd&#39;</span>
<span class="n">make_ordinal</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;122nd&#39;</span>
<span class="n">make_ordinal</span><span class="p">(</span><span class="mi">213</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;213th&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="countdistinct">
<h3>CountDistinct<a class="headerlink" href="#countdistinct" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation.CountDistinct">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.display.aggregation.</span></span><span class="sig-name descname"><span class="pre">CountDistinct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'count_distinct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'count</span> <span class="pre">distinct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aggregate'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation.CountDistinct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#chiron.processors.display.aggregation._base.AggregationMethod" title="chiron.processors.display.aggregation._base.AggregationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.aggregation._base.AggregationMethod</span></code></a></p>
<p>Aggregate by counting distinct non-null values</p>
</dd></dl>

</div>
<div class="section" id="listdistinct">
<h3>ListDistinct<a class="headerlink" href="#listdistinct" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation.ListDistinct">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.display.aggregation.</span></span><span class="sig-name descname"><span class="pre">ListDistinct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'list_distinct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'list</span> <span class="pre">distinct'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'list'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation.ListDistinct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#chiron.processors.display.aggregation._base.AggregationMethod" title="chiron.processors.display.aggregation._base.AggregationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.aggregation._base.AggregationMethod</span></code></a></p>
<p>List distinct values in same cell as semicolon-separated string.</p>
</dd></dl>

</div>
<div class="section" id="min">
<h3>Min<a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation.Min">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.display.aggregation.</span></span><span class="sig-name descname"><span class="pre">Min</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'min</span> <span class="pre">value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aggregate'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation.Min" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#chiron.processors.display.aggregation._base.AggregationMethod" title="chiron.processors.display.aggregation._base.AggregationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.aggregation._base.AggregationMethod</span></code></a></p>
<p>Aggregate by getting miniumum value only</p>
</dd></dl>

</div>
<div class="section" id="max">
<h3>Max<a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chiron.processors.display.aggregation.Max">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">chiron.processors.display.aggregation.</span></span><span class="sig-name descname"><span class="pre">Max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max</span> <span class="pre">value'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'aggregate'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chiron.processors.display.aggregation.Max" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#chiron.processors.display.aggregation._base.AggregationMethod" title="chiron.processors.display.aggregation._base.AggregationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">chiron.processors.display.aggregation._base.AggregationMethod</span></code></a></p>
<p>Aggregate by getting maximim value only</p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="data_dict_models.html" class="btn btn-neutral float-right" title="Data Dictionary Model Classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="built_in_processors.html" class="btn btn-neutral float-left" title="Built-In Processors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, UC Center for Health Informatics, Cincinnati Children&#39;s Biomedical Informatics.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>